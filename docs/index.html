<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kid Learn Quest</title>
    <style>
        :root { --bg: #f0f9ff; --yellow: #fff176; --green: #81c784; --blue: #64b5f6; --orange: #ffb74d; --purple: #d1c4e9; --pink: #f48fb1; }
        body { font-family: 'Comic Sans MS', cursive, sans-serif; background: var(--bg); text-align: center; margin: 0; padding: 20px; overflow-x: hidden; transition: background 0.5s ease; }
        header { background: white; padding: 15px; border-radius: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .stats { font-size: 1.2rem; color: #555; font-weight: bold; }
        
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; max-width: 400px; margin: auto; }
        .alphabet-grid, .number-grid, .color-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); gap: 12px; padding: 10px; }
        
        .card { background: white; padding: 25px 10px; border-radius: 25px; cursor: pointer; border-bottom: 6px solid #ddd; transition: 0.1s; font-weight: bold; font-size: 1.2rem; }
        .item-card { background: white; padding: 15px; border-radius: 15px; font-size: 2rem; border-bottom: 4px solid #ccc; cursor: pointer; display: flex; align-items: center; justify-content: center; min-height: 60px; }
        .card:active, .item-card:active { transform: translateY(4px); border-bottom-width: 2px; }
        
        .yellow { background: var(--yellow); border-color: #fbc02d; }
        .green { background: var(--green); border-color: #388e3c; }
        .blue { background: var(--blue); border-color: #1976d2; }
        .orange { background: var(--orange); border-color: #f57c00; }
        .purple { background: var(--purple); border-color: #9575cd; }

        .hidden { display: none !important; }
        .back-btn { background: #333; color: white; border: none; padding: 12px 25px; border-radius: 50px; margin-bottom: 20px; cursor: pointer; font-size: 1rem; }
        
        #paintCanvas { background: white; border: 4px solid #ccc; border-radius: 15px; touch-action: none; width: 100%; max-width: 320px; height: 350px; }
        
        .color-circle { width: 60px; height: 60px; border-radius: 50%; border: 4px solid white; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin: auto; cursor: pointer; }
    </style>
</head>
<body>

    <header>
        <h1>‚≠ê Kid Learn Quest</h1>
        <div class="stats">üåü Stars: <span id="star-count">0</span></div>
    </header>

    <main>
        <section id="menu-view">
            <div class="grid">
                <div class="card yellow" onclick="goTo('alphabet', 'Let\'s learn letters!')">
                    <span style="font-size:3rem; display:block;">üî§</span> Letters
                </div>
                <div class="card green" onclick="goTo('numbers', 'Let\'s count!')">
                    <span style="font-size:3rem; display:block;">üî¢</span> Numbers
                </div>
                <div class="card blue" onclick="goTo('colors', 'What is your favorite color?')">
                    <span style="font-size:3rem; display:block;">üé®</span> Colors
                </div>
                <div class="card orange" onclick="goTo('draw', 'Time to paint!')">
                    <span style="font-size:3rem; display:block;">‚úèÔ∏è</span> Draw
                </div>
                <div class="card purple" onclick="goTo('parent', 'Hello Parents!')">
                    <span style="font-size:3rem; display:block;">üë®‚Äçüë©‚Äçüëß</span> Parent
                </div>
            </div>
        </section>

        <section id="alphabet-view" class="hidden">
            <button class="back-btn" onclick="goTo('menu')">‚¨ÖÔ∏è Back</button>
            <div class="alphabet-grid" id="letter-container"></div>
        </section>

        <section id="numbers-view" class="hidden">
            <button class="back-btn" onclick="goTo('menu')">‚¨ÖÔ∏è Back</button>
            <div class="number-grid" id="number-container"></div>
        </section>

        <section id="colors-view" class="hidden">
            <button class="back-btn" onclick="goTo('menu')">‚¨ÖÔ∏è Back</button>
            <div class="color-grid" id="color-container"></div>
        </section>

        <section id="draw-view" class="hidden">
            <button class="back-btn" onclick="goTo('menu')">‚¨ÖÔ∏è Back</button>
            <canvas id="paintCanvas"></canvas><br><br>
            <button class="back-btn purple" onclick="clearCanvas()">üßº Clear All</button>
        </section>
        
        <section id="parent-view" class="hidden">
            <button class="back-btn" onclick="goTo('menu')">‚¨ÖÔ∏è Back</button>
            <h2>Parent Settings</h2>
            <button class="back-btn orange" onclick="resetStars()">Reset Stars</button>
            <p>Delete your old .html files from GitHub to keep things clean!</p>
        </section>
    </main>

    <script>
        let stars = parseInt(localStorage.getItem('kidStars')) || 0;
        document.getElementById('star-count').innerText = stars;

        function speak(text) {
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance(text);
            msg.pitch = 1.3;
            msg.rate = 0.9;
            window.speechSynthesis.speak(msg);
        }

        function goTo(view, message) {
            document.body.style.background = "#f0f9ff"; // Reset bg color
            document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
            document.getElementById(view + '-view').classList.remove('hidden');
            if (message) speak(message);
            
            if (view === 'alphabet') createAlphabet();
            if (view === 'numbers') createNumbers();
            if (view === 'colors') createColors();
            if (view === 'draw') initDraw();
        }

        function addStar() {
            stars++;
            document.getElementById('star-count').innerText = stars;
            localStorage.setItem('kidStars', stars);
        }

        // --- SECTION GENERATORS ---
        function createAlphabet() {
            const container = document.getElementById('letter-container');
            if (container.innerHTML !== "") return;
            "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").forEach(l => {
                const btn = document.createElement('div');
                btn.className = "item-card yellow";
                btn.innerText = l;
                btn.onclick = () => { speak(l); addStar(); };
                container.appendChild(btn);
            });
        }

        function createNumbers() {
            const container = document.getElementById('number-container');
            if (container.innerHTML !== "") return;
            for (let i = 1; i <= 20; i++) {
                const btn = document.createElement('div');
                btn.className = "item-card green";
                btn.innerText = i;
                btn.onclick = () => { speak(i.toString()); addStar(); };
                container.appendChild(btn);
            }
        }

        function createColors() {
            const container = document.getElementById('color-container');
            if (container.innerHTML !== "") return;
            const colors = [
                {name: 'Red', code: '#ff4d4d'}, {name: 'Blue', code: '#3498db'},
                {name: 'Green', code: '#2ecc71'}, {name: 'Yellow', code: '#f1c40f'},
                {name: 'Purple', code: '#9b59b6'}, {name: 'Orange', code: '#e67e22'},
                {name: 'Pink', code: '#ff9ff3'}, {name: 'White', code: '#ffffff'}
            ];
            colors.forEach(c => {
                const btn = document.createElement('div');
                btn.className = "color-circle";
                btn.style.backgroundColor = c.code;
                btn.onclick = () => { 
                    speak(c.name); 
                    document.body.style.background = c.code; 
                    addStar(); 
                };
                container.appendChild(btn);
            });
        }

        // --- DRAWING ---
        let canvas, ctx, painting = false;
        function initDraw() {
            canvas = document.getElementById('paintCanvas');
            ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            ctx.lineWidth = 8; ctx.lineCap = 'round'; ctx.strokeStyle = '#3498db';
            const start = (e) => { painting = true; draw(e); };
            const end = () => { painting = false; ctx.beginPath(); };
            canvas.onmousedown = start; canvas.onmouseup = end; canvas.onmousemove = draw;
            canvas.ontouchstart = (e) => { e.preventDefault(); start(e.touches[0]); };
            canvas.ontouchend = end; canvas.ontouchmove = (e) => { e.preventDefault(); draw(e.touches[0]); };
        }
        function draw(e) {
            if (!painting) return;
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX || e.pageX) - rect.left;
            const y = (e.clientY || e.pageY) - rect.top;
            ctx.lineTo(x, y); ctx.stroke(); ctx.beginPath(); ctx.moveTo(x, y);
        }
        function clearCanvas() { ctx.clearRect(0, 0, canvas.width, canvas.height); speak("All clean!"); }
        function resetStars() { if(confirm("Reset stars?")) { stars = 0; document.getElementById('star-count').innerText = 0; localStorage.setItem('kidStars', 0); } }
    </script>
</body>
</html>
