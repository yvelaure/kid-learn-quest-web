<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Mini Games</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{text-align:center;font-family:Arial;background:#eef2ff}
.choice{
display:inline-block;background:#fff;
padding:20px;margin:10px;
border-radius:16px;font-size:24px;cursor:pointer}
</style>
</head>
<body>

<h2>ğŸ® Mini Games</h2>
<button onclick="countGame()">ğŸ”¢ Counting</button>
<button onclick="letterGame()">ğŸ”¤ Letters</button>
<button onclick="memoryGame()">ğŸ§  Memory</button>

<div id="game"></div>

<script>
let kids=JSON.parse(localStorage.getItem("klq_kids"));
let k=kids[localStorage.getItem("klq_active_kid")||0];

function speak(t){
let u=new SpeechSynthesisUtterance(t);
u.rate=k.age<5?0.7:1;
speechSynthesis.speak(u);
}

function saveStar(){
k.stars=(k.stars||0)+1;
k.weekly=k.weekly||[];
k.weekly.push({date:new Date().toDateString(),stars:1});
localStorage.setItem("klq_kids",JSON.stringify(kids));
}

function countGame(){
let a=Math.floor(Math.random()*5)+1;
game.innerHTML="â­".repeat(a)+"<br>";
[ a, a+1, a-1 ].filter(n=>n>0).forEach(n=>{
game.innerHTML+=`<div class="choice" onclick="check(${n},${a})">${n}</div>`;
});
speak("Count the stars");
}

function check(n,a){
if(n===a){alert("Correct!");saveStar();}
else alert("Try again");
countGame();
}

function letterGame(){
let l=String.fromCharCode(65+Math.random()*26|0);
game.innerHTML=`<h3>Tap ${l}</h3><div class="choice" onclick="win()">${l}</div>`;
speak("Tap the letter "+l);
}
function win(){alert("Great!");saveStar();}

function memoryGame(){
let cards=["ğŸ¶","ğŸ±","ğŸ¶","ğŸ±"].sort(()=>Math.random()-0.5);
game.innerHTML="";
cards.forEach((c,i)=>{
game.innerHTML+=`<div class="choice" onclick="flip(this,'${c}')">â“</div>`;
});
speak("Match the animals");
}
function flip(el,c){el.textContent=c;}
</script>
</body>
</html>
