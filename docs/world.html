<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Learning World | Kid Learn Quest</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  font-family:"Arial Rounded MT Bold",Arial,sans-serif;
  background:linear-gradient(180deg,#60a5fa,#34d399);
  color:#fff;
}

/* HEADER */
.header{
  padding:16px;
  text-align:center;
}

/* MAP */
.map{
  position:relative;
  height:520px;
  margin:20px;
  background:#e0f2fe;
  border-radius:30px;
  overflow:hidden;
}

/* PATH */
.path{
  position:absolute;
  width:6px;
  background:#94a3b8;
  left:50%;
  top:40px;
  bottom:40px;
  transform:translateX(-50%);
  border-radius:6px;
}

/* LEVEL NODE */
.node{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  width:70px;
  height:70px;
  border-radius:50%;
  background:#fff;
  color:#333;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:28px;
  cursor:pointer;
  transition:.25s;
}

.node.locked{
  opacity:.4;
  pointer-events:none;
}

.node.active{
  background:#facc15;
}

.node:hover{
  transform:translateX(-50%) scale(1.1);
}

/* FOOTER */
.footer{
  text-align:center;
  padding:16px;
}

button{
  padding:12px 22px;
  border:none;
  border-radius:16px;
  background:#facc15;
  font-size:16px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="header">
  <h1>üó∫Ô∏è Learning World</h1>
  <p id="kidInfo"></p>
  ‚≠ê Stars: <b id="stars">0</b> | Level: <b id="level">1</b>
</div>

<div class="map">
  <div class="path"></div>

  <div class="node" style="top:40px" onclick="openLevel(1)">üå±</div>
  <div class="node" style="top:130px" onclick="openLevel(2)">üî§</div>
  <div class="node" style="top:220px" onclick="openLevel(3)">üî¢</div>
  <div class="node" style="top:310px" onclick="openLevel(4)">üé®</div>
  <div class="node" style="top:400px" onclick="openLevel(5)">üß†</div>
</div>

<div class="footer">
  <button onclick="goHome()">‚¨Ö Back Home</button>
</div>

<script>
/* ===== LOAD KID ===== */
const kids = JSON.parse(localStorage.getItem("klq_kids") || "[]");
const idx = localStorage.getItem("klq_active_kid");
const kid = kids[idx];

if(!kid){ location.href="index.html"; }

kid.level ||= 1;
kid.stars ||= 0;
kid.avatar ||= "üßí";

document.getElementById("kidInfo").innerText =
`${kid.avatar} ${kid.name} ‚Ä¢ Age ${kid.age}`;

stars.innerText = kid.stars;
level.innerText = kid.level;

/* ===== LOCK LEVELS ===== */
const nodes = document.querySelectorAll(".node");
nodes.forEach((node,i)=>{
  const lvl = i+1;
  if(lvl > kid.level) node.classList.add("locked");
  if(lvl === kid.level) node.classList.add("active");
});

/* ===== OPEN LEVEL ===== */
function openLevel(lvl){
  if(lvl === 1 || lvl === 2){
    location.href="classroom.html";
  } else {
    location.href="mini.html";
  }
}

function goHome(){
  location.href="index.html";
}
</script>

</body>
</html>
